{% extends 'base.html' %}

{% block title %}{{ acao }} Imóvel - AlugaLar Corrente{% endblock %}

{% block extra_css %}
<style>
    .form-container {
        background: white;
        padding: 2rem;
        border-radius: 8px;
        box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        max-width: 800px;
        margin: 0 auto;
    }
    
    .form-group {
        margin-bottom: 1.5rem;
    }
    
    .form-group label {
        display: block;
        margin-bottom: 0.5rem;
        font-weight: bold;
        color: #2c3e50;
    }
    
    .form-group input,
    .form-group select,
    .form-group textarea {
        width: 100%;
        padding: 0.75rem;
        border: 1px solid #ddd;
        border-radius: 5px;
        font-size: 1rem;
        font-family: inherit;
    }
    
    .form-group textarea {
        min-height: 150px;
        resize: vertical;
    }
    
    .form-group input[type="file"] {
        padding: 0.5rem;
    }
    
    .form-row {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 1rem;
    }
    
    .form-actions {
        display: flex;
        gap: 1rem;
        margin-top: 2rem;
    }
    
    .help-text {
        font-size: 0.85rem;
        color: #7f8c8d;
        margin-top: 0.25rem;
    }
</style>
{% endblock %}

{% block content %}
<div class="container">
    <a href="{% url 'dashboard' %}" style="display: inline-block; margin-bottom: 1rem; color: #3498db; text-decoration: none;">
        ← Voltar para Dashboard
    </a>
    
    <div class="form-container">
        <h1 style="color: #2c3e50; margin-bottom: 1.5rem;">{{ acao }} Imóvel</h1>
        
        <form method="post" enctype="multipart/form-data">
            {% csrf_token %}
            
            <div class="form-group">
                <label for="titulo">Título do Anúncio *</label>
                <input type="text" 
                       id="titulo" 
                       name="titulo" 
                       value="{% if imovel %}{{ imovel.titulo }}{% endif %}"
                       required
                       placeholder="Ex: Casa ampla com 3 quartos">
                <div class="help-text">Crie um título atrativo para seu imóvel</div>
            </div>
            
            <div class="form-group">
                <label for="descricao">Descrição *</label>
                <textarea id="descricao" 
                          name="descricao" 
                          required
                          placeholder="Descreva detalhadamente o imóvel, suas características, localização, etc.">{% if imovel %}{{ imovel.descricao }}{% endif %}</textarea>
                <div class="help-text">Quanto mais detalhes, melhor!</div>
            </div>
            
            <div class="form-row">
                <div class="form-group">
                    <label for="tipo">Tipo de Imóvel *</label>
                    <select id="tipo" name="tipo" required>
                        <option value="">Selecione...</option>
                        <option value="casa" {% if imovel.tipo == 'casa' %}selected{% endif %}>Casa</option>
                        <option value="kitnet" {% if imovel.tipo == 'kitnet' %}selected{% endif %}>Kitnet</option>
                        <option value="apartamento" {% if imovel.tipo == 'apartamento' %}selected{% endif %}>Apartamento</option>
                        <option value="quarto" {% if imovel.tipo == 'quarto' %}selected{% endif %}>Quarto</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label for="bairro">Bairro *</label>
                    <select id="bairro" name="bairro" required>
                        <option value="">Selecione...</option>
                        <option value="centro" {% if imovel.bairro == 'centro' %}selected{% endif %}>Centro</option>
                        <option value="nova_corrente" {% if imovel.bairro == 'nova_corrente' %}selected{% endif %}>Nova Corrente</option>
                        <option value="aeroporto_i" {% if imovel.bairro == 'aeroporto_i' %}selected{% endif %}>Aeroporto I</option>
                        <option value="aeroporto_ii" {% if imovel.bairro == 'aeroporto_ii' %}selected{% endif %}>Aeroporto II</option>
                        <option value="vermelhao" {% if imovel.bairro == 'vermelhao' %}selected{% endif %}>Vermelhão</option>
                        <option value="sincerino" {% if imovel.bairro == 'sincerino' %}selected{% endif %}>Sincerino</option>
                        <option value="vila_nova" {% if imovel.bairro == 'vila_nova' %}selected{% endif %}>Vila Nova</option>
                    </select>
                </div>
            </div>
            
            <div class="form-row">
                <div class="form-group">
                    <label for="preco">Preço Mensal (R$) *</label>
                    <input type="number" 
                           id="preco" 
                           name="preco" 
                           value="{% if imovel %}{{ imovel.preco }}{% endif %}"
                           step="0.01"
                           min="0"
                           required
                           placeholder="500.00">
                </div>
                
                <div class="form-group">
                    <label for="telefone_contato">Telefone/WhatsApp *</label>
                    <input type="text" 
                           id="telefone_contato" 
                           name="telefone_contato" 
                           value="{% if imovel %}{{ imovel.telefone_contato }}{% endif %}"
                           required
                           placeholder="(63) 99999-9999">
                    <div class="help-text">Formato: (DD) 9XXXX-XXXX</div>
                </div>
            </div>
            
            <div class="form-group">
                <label for="foto_principal">Foto Principal *{% if imovel %} (deixe em branco para manter a atual){% endif %}</label>
                <input type="file" 
                       id="foto_principal" 
                       name="foto_principal" 
                       accept="image/*"
                       {% if not imovel %}required{% endif %}>
                <div class="help-text">Escolha a melhor foto do seu imóvel</div>
            </div>
            
            <div class="form-group">
                <label for="imagens">Fotos Adicionais (Galeria)</label>
                <input type="file" 
                       id="imagens" 
                       name="imagens" 
                       accept="image/*"
                       multiple>
                <div class="help-text">Você pode selecionar múltiplas imagens</div>
            </div>
            
            <div class="form-actions">
                <button type="submit" class="btn btn-success">
                    {{ acao }} Imóvel
                </button>
                <a href="{% url 'dashboard' %}" class="btn" style="background-color: #95a5a6; color: white;">
                    Cancelar
                </a>
            </div>
        </form>
    </div>
</div>
{% endblock %}
